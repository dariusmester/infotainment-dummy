:root { color-scheme: dark; }
* { box-sizing: border-box; }
body { background:#0b1220; color:#e8f3ff; font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif; margin:0; }

/* Topbar */
#topbar { height:44px; display:flex; align-items:center; justify-content:space-between; gap:12px; padding:0 12px; background:#0f1a2a; border-bottom:1px solid #14344a; }
#topbar-left { display:flex; gap:8px; align-items:center; font-size:14px; }
#topbar-right { display:flex; gap:8px; align-items:center; }
#topbar button { background:#08a0f7; color:#00131c; border:none; border-radius:10px; padding:6px 10px; font-weight:700; cursor:pointer; }
#topbar button:hover { filter:brightness(1.05); }
.muted { opacity:.7; font-size:12px; }

/* Layout */
#infotainment { display:grid; grid-template-rows:28px 1fr; height:calc(100vh - 44px - 120px); min-height:360px; }
#statusbar { display:flex; align-items:center; justify-content:space-between; padding:0 12px; background:#091427; border-bottom:1px solid #14344a; font-size:12px; opacity:.85; }
#appContent { position:relative; margin:10px; border-radius:12px; background:linear-gradient(180deg,#06111a,#0a1a26); border:1px solid #14344a; overflow:hidden; touch-action:none; }

/* Ebene 1: Kachel-Grid (zentriert, 2 Reihen) */
.grid-home {
  position:absolute; inset:0; display:grid;
  place-items:center;
}
.grid-home .grid-wrap {
  width:min(900px, 95%);
  display:grid;
  grid-template-columns: repeat(4, minmax(140px, 1fr));
  grid-auto-rows: 120px;
  gap:14px;
  align-content:center; /* vertical center */
}
.tile {
  background:#132a3a; border:1px solid #1b3a4f; border-radius:16px;
  display:grid; place-items:center; font-size:20px; cursor:pointer; user-select:none;
}
.tile:hover { outline:2px solid #08a0f7; }

/* Ebene 2+: App-Shell */
.pad-toolbar, .pad-footer { display:flex; gap:8px; align-items:center; padding:8px 10px; }
.pad-toolbar { border-bottom:1px solid #14344a; }
.pad-footer { border-top:1px solid #14344a; }
.pad-toolbar button, .pad-footer button { background:#1a3a50; color:#e8f3ff; border:1px solid #2a5875; border-radius:10px; padding:6px 10px; cursor:pointer; }
.pad-toolbar input[type="text"] { flex:1; min-width:120px; padding:6px 10px; border-radius:8px; border:1px solid #2a5875; background:#0e2030; color:#e8f3ff; }
.pad-content { position:absolute; inset:44px 0 44px 0; }

/* Listen / Suggest / Slider / Karte (wie zuvor) */
.scroll { position:absolute; inset:0; overflow:hidden; touch-action:none; }
.scroll .inner { position:absolute; left:0; top:0; right:0; }
.row-item { padding:12px 14px; border-bottom:1px solid #0f2939; display:flex; justify-content:space-between; align-items:center; }
.row-item:active { background:#0e2533; }

.suggest { position:absolute; top:44px; left:10px; right:10px; background:#0c1c29; border:1px solid #1b3a4f; border-radius:8px; overflow:hidden; }
.suggest .row-item { padding:10px 12px; }

.slider { display:flex; align-items:center; gap:10px; padding:12px; }
.slider .track { position: relative; height:6px; flex:1; background:#0f2939; border-radius:999px; }
.slider .thumb { position:absolute; top:50%; transform:translate(-50%,-50%); width:18px; height:18px; border-radius:999px; background:#08a0f7; }

.map { position:absolute; inset:0; background:
  linear-gradient(0deg, transparent 24%, #0d2230 25%, #0d2230 26%, transparent 27%),
  linear-gradient(90deg, transparent 24%, #0d2230 25%, #0d2230 26%, transparent 27%),
  #06111a; background-size:40px 40px; touch-action:none; }
.map .pin { position:absolute; width:18px; height:18px; background:#ff3b3b; border-radius:50%; transform:translate(-50%,-100%); box-shadow:0 0 0 2px #881a1a; }
.loading { position:absolute; inset:0; display:grid; place-items:center; font-size:12px; opacity:.8; }

/* Features unten */
#panels { padding:10px; }
#featuresArea { background:#02121a; color:#cfe9ff; font-size:12px; padding:10px; border-radius:6px; text-align:left; height:100px; overflow:auto; border:1px solid #14344a; }

/* Calibration dialog */
dialog#calDialog::backdrop { background: rgb(0 0 0 / .6); }
.cal-form { min-width: 320px; max-width: 560px; }
.ruler-row { display:flex; align-items:center; gap:12px; }
#ruler { height:10px; background:#08a0f7; border-radius:6px; width:260px; }
#rulerRange { width:100%; }
menu { display:flex; justify-content:flex-end; gap:8px; margin-top:12px; }
