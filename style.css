:root { color-scheme: dark; }
* { box-sizing: border-box; }
body { background:#0b1220; color:#e8f3ff; font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif; margin:0; padding:20px; text-align:center; }
h1 { margin:0 0 12px 0; }

.controls { margin-bottom:12px; display:flex; gap:8px; justify-content:center; align-items:center; flex-wrap:wrap; }
button { background:#08a0f7; color:#00131c; border:none; border-radius:10px; padding:9px 14px; font-weight:700; cursor:pointer; }
button.secondary { background:#133448; color:#d1f0ff; }
button:hover { filter:brightness(1.05); }
.muted { opacity:.7; font-size:.9rem; }

#tasks { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:10px; margin:16px auto; max-width:680px; }
.task { background:#132a3a; border:2px solid transparent; border-radius:14px; padding:26px 0; font-size:18px; user-select:none; outline:none; }
.task.active { outline:2px solid #08a0f7; }
.task:focus-visible { border-color:#08a0f7; }

.row { display:flex; gap:16px; align-items:stretch; justify-content:center; flex-wrap:wrap; }
#pad { flex:1 1 520px; min-width:320px; height:320px; border-radius:12px; background:linear-gradient(180deg,#06111a,#0a1a26); border:1px solid #14344a; position:relative; touch-action:none; }
.pad-hint { position:absolute; inset:0; display:grid; place-items:center; opacity:.75; font-size:14px; pointer-events:none; }

#submenu { flex:1 1 380px; min-width:300px; background:#0c1c29; border:1px solid #14344a; border-radius:12px; padding:12px; text-align:left; }
#submenu h2 { margin:4px 0 10px; font-size:18px; }
.steps { display:flex; flex-direction:column; gap:8px; max-height:240px; overflow:auto; padding-right:4px; }
.step { background:#122432; border:1px solid #1b3a4f; border-radius:10px; padding:8px 10px; display:flex; justify-content:space-between; align-items:center; gap:10px; }
.step.current { outline:2px solid #08a0f7; }
.badge { font-size:11px; padding:2px 6px; border-radius:999px; background:#082233; border:1px solid #184a68; }
.badge.tap { background:#1f3b1f; border-color:#356f35; }
.badge.strike { background:#3b2a1f; border-color:#6f5535; }
.badge.any { background:#2a2a3b; border-color:#55556f; }
.ok { color:#9dff9d; }
.warn { color:#ffd27d; }
.btnrow { display:flex; gap:8px; margin-top:10px; }
#taskInfo { margin-top:8px; }

#logArea, #featuresArea { background:#02121a; color:#8cff8c; font-size:12px; padding:10px; border-radius:6px; text-align:left; height:200px; overflow-y:auto; max-width:1100px; margin:12px auto 0; border:1px solid #14344a; }
#featuresArea { color:#cfe9ff; }

dialog#calDialog::backdrop { background:rgb(0 0 0 / .6); }
.cal-form { min-width:320px; max-width:560px; }
.ruler-row { display:flex; align-items:center; gap:12px; }
#ruler { height:10px; background:#08a0f7; border-radius:6px; width:260px; }
#rulerRange { width:100%; }
menu { display:flex; justify-content:flex-end; gap:8px; margin-top:12px; }