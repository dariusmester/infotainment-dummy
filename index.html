<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Infotainment Dummy ‚Äì Touch Logger</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- D√ºnne Top-Bar -->
  <header id="topbar">
    <div id="topbar-left">
      <strong>Hinweis:</strong>
      <span id="instruction">Tippe eine Kachel an, um das Untermen√º zu √∂ffnen.</span>
    </div>
    <div id="topbar-right">
      <button id="toggleSession">Start Session</button>
      <button id="exportData">Export Daten</button>
      <button id="resetUser">Reset</button>
    </div>
  </header>

  <main id="infotainment">

    <div id="statusbar">
      <span id="btStatus">Kein Handy verbunden</span><span id="clock">--:--</span><span>21¬∞C</span>
    </div>
    <!-- App-Content: Ebene 1 = Kacheln, Ebene 2+ = App mit Zur√ºck-Pfeil -->
    <section id="appContent" aria-label="Inhalt">

    </section>

    <!-- Keine Dock-Leiste mehr -->
  </main>



  <!-- Welcome Modal - Fullscreen -->
  <div id="welcomeModal" style="display:flex; position:fixed; inset:0; background:linear-gradient(135deg, #0f1a2a 0%, #1a2535 100%); align-items:center; justify-content:center; z-index:9999; flex-direction:column;">
    <!-- Seiten-Container -->
    <div id="welcomePages" style="position:relative; width:100%; height:100%; display:flex; align-items:center; justify-content:center; overflow:hidden;">
      
      <!-- Seite 1: Willkommen & Name -->
      <div id="welcomePage1" class="welcomePage" style="position:absolute; inset:0; display:flex; align-items:center; justify-content:center; padding:40px; width:100%; height:100%; transition:opacity 0.3s, transform 0.3s;">
        <div style="max-width:600px; width:100%;">
          <h1 style="margin:0 0 16px 0; font-size:36px; color:#e8f3ff; text-align:center;">Willkommen!</h1>
          <p style="color:#9fb0bf; line-height:1.8; margin:0 0 32px 0; font-size:16px; text-align:center;">
            Dies ist ein Infotainment-Interface zum Testen von Benutzerinteraktionen.<br><br>
            Sie werden eine Serie von 9 Aufgaben absolvieren, die verschiedene Funktionen des Systems erfordern. 
            Alle Ihre Touch-Eingaben und Aktionen werden f√ºr die Analyse aufgezeichnet.
          </p>
          <form id="welcomeForm" style="display:flex; flex-direction:column; gap:16px;">
            <div style="display:flex; flex-direction:column; gap:8px;">
              <label for="userNameInput" style="font-weight:600; color:#e8f3ff; font-size:16px;">Ihr Name:</label>
              <input 
                id="userNameInput" 
                type="text" 
                placeholder="z.B. Max Mustermann" 
                style="padding:16px; border:1px solid #505353; border-radius:8px; background:#232525; color:#e8f3ff; font-size:16px;"
                required
              >
            </div>
            <button 
              type="button" 
              id="nextPageBtn1"
              style="padding:16px; background:#08a0f7; color:#00131c; border:none; border-radius:8px; font-weight:700; cursor:pointer; font-size:16px; margin-top:16px;"
            >
              Weiter
            </button>
          </form>
        </div>
      </div>

      <!-- Seite 2: Demographische Daten -->
      <div id="welcomePage2" class="welcomePage" style="position:absolute; inset:0; display:none; align-items:center; justify-content:center; padding:40px; width:100%; height:100%; overflow-y:auto;">
        <div style="max-width:600px; width:100%;">
          <h1 style="margin:0 0 16px 0; font-size:36px; color:#e8f3ff; text-align:center;">Ihre Angaben</h1>
          <p style="color:#9fb0bf; line-height:1.8; margin:0 0 32px 0; font-size:16px; text-align:center;">
            Bitte geben Sie einige demographische Informationen an. Diese Daten werden anonym f√ºr Forschungszwecke verwendet.
          </p>
          <form id="demographicForm" style="display:flex; flex-direction:column; gap:20px;">
            <!-- Alter -->
            <div style="display:flex; flex-direction:column; gap:8px;">
              <label for="userAgeInput" style="font-weight:600; color:#e8f3ff; font-size:16px;">Alter:</label>
              <input 
                id="userAgeInput" 
                type="number" 
                min="18" 
                max="99" 
                placeholder="z.B. 25" 
                style="padding:16px; border:1px solid #505353; border-radius:8px; background:#232525; color:#e8f3ff; font-size:16px;"
                required
              >
            </div>
            
            <!-- Geschlecht -->
            <div style="display:flex; flex-direction:column; gap:8px;">
              <label style="font-weight:600; color:#e8f3ff; font-size:16px;">Geschlecht:</label>
              <div style="display:flex; gap:12px; flex-wrap:wrap;">
                <label style="display:flex; align-items:center; gap:8px; color:#e8f3ff; cursor:pointer; padding:12px 20px; border:1px solid #505353; border-radius:8px; background:#232525;">
                  <input type="radio" name="gender" value="m√§nnlich" required style="width:18px; height:18px; cursor:pointer;">
                  <span>M√§nnlich</span>
                </label>
                <label style="display:flex; align-items:center; gap:8px; color:#e8f3ff; cursor:pointer; padding:12px 20px; border:1px solid #505353; border-radius:8px; background:#232525;">
                  <input type="radio" name="gender" value="weiblich" required style="width:18px; height:18px; cursor:pointer;">
                  <span>Weiblich</span>
                </label>
                <label style="display:flex; align-items:center; gap:8px; color:#e8f3ff; cursor:pointer; padding:12px 20px; border:1px solid #505353; border-radius:8px; background:#232525;">
                  <input type="radio" name="gender" value="divers" required style="width:18px; height:18px; cursor:pointer;">
                  <span>Divers</span>
                </label>
              </div>
            </div>
            
            <!-- Beruflicher Status -->
            <div style="display:flex; flex-direction:column; gap:8px;">
              <label for="userOccupationInput" style="font-weight:600; color:#e8f3ff; font-size:16px;">Beruflicher Status:</label>
              <select 
                id="userOccupationInput" 
                style="padding:16px; border:1px solid #505353; border-radius:8px; background:#232525; color:#e8f3ff; font-size:16px; cursor:pointer;"
                required
              >
                <option value="" disabled selected>Bitte w√§hlen...</option>
                <option value="Sch√ºler/in">Sch√ºler/in</option>
                <option value="Student/in">Student/in</option>
                <option value="Angestellt">Angestellt</option>
                <option value="Selbstst√§ndig">Selbstst√§ndig</option>
                <option value="Beamter/Beamtin">Beamter/Beamtin</option>
                <option value="Arbeitslos">Arbeitslos</option>
                <option value="Rentner/in">Rentner/in</option>
                <option value="Sonstiges">Sonstiges</option>
              </select>
            </div>
          </form>
          <div style="display:flex; gap:12px; margin-top:32px;">
            <button 
              type="button" 
              id="prevPageBtn2"
              style="flex:1; padding:16px; background:#505353; color:#e8f3ff; border:none; border-radius:8px; font-weight:700; cursor:pointer; font-size:16px;"
            >
              Zur√ºck
            </button>
            <button 
              type="button" 
              id="nextPageBtn2"
              style="flex:1; padding:16px; background:#08a0f7; color:#00131c; border:none; border-radius:8px; font-weight:700; cursor:pointer; font-size:16px;"
            >
              Weiter
            </button>
          </div>
        </div>
      </div>

      <!-- Seite 3: Informationen & Datenschutz -->
      <div id="welcomePage3" class="welcomePage" style="position:absolute; inset:0; display:none; align-items:center; justify-content:center; padding:40px; width:100%; height:100%; overflow-y:auto;">
        <div style="max-width:600px; width:100%;">
          <h1 style="margin:0 0 24px 0; font-size:36px; color:#e8f3ff; text-align:center;">Wie funktioniert es?</h1>
          <div style="color:#9fb0bf; line-height:1.8; font-size:15px; display:flex; flex-direction:column; gap:20px;">
            <div>
              <h3 style="color:#08a0f7; margin:0 0 8px 0;">üìã Die 9 Aufgaben</h3>
              <p style="margin:0;">Jede Aufgabe erfordert, dass Sie bestimmte Einstellungen oder Aktionen durchf√ºhren. Die aktuelle Aufgabe wird oben auf dem Bildschirm angezeigt.</p>
            </div>
            <div>
              <h3 style="color:#08a0f7; margin:0 0 8px 0;">‚è±Ô∏è Best√§tigung erforderlich</h3>
              <p style="margin:0;">Wenn Sie eine Aufgabe korrekt erf√ºllen, wird der Text gr√ºn. Die Aufgabe muss 1 Sekunde lang gr√ºn bleiben, um als erf√ºllt zu gelten.</p>
            </div>
            <div>
              <h3 style="color:#08a0f7; margin:0 0 8px 0;">üìä Aufzeichnung</h3>
              <p style="margin:0;">Alle Ihre Touch-Eingaben werden automatisch aufgezeichnet. Am Ende k√∂nnen Sie die Daten exportieren.</p>
            </div>
            <div>
              <h3 style="color:#08a0f7; margin:0 0 8px 0;">‚è±Ô∏è Dauer</h3>
              <p style="margin:0;">Die Session dauert etwa 10-15 Minuten.</p>
            </div>
            <div style="border-top:1px solid #505353; padding-top:20px; margin-top:8px;">
              <h3 style="color:#08a0f7; margin:0 0 8px 0;">üîí Datenschutz</h3>
              <p style="margin:0;">Alle Ihre Daten werden <strong style="color:#e8f3ff;">vollst√§ndig anonym</strong> gespeichert. Ihr Name wird nicht mit den erfassten Interaktionsdaten verbunden. Die erfassten Daten dienen ausschlie√ülich der Forschung und Verbesserung von Benutzeroberfl√§chen.</p>
            </div>
          </div>
          <div style="display:flex; gap:12px; margin-top:32px;">
            <button 
              type="button" 
              id="prevPageBtn3"
              style="flex:1; padding:16px; background:#505353; color:#e8f3ff; border:none; border-radius:8px; font-weight:700; cursor:pointer; font-size:16px;"
            >
              Zur√ºck
            </button>
            <button 
              type="button" 
              id="nextPageBtn3"
              style="flex:1; padding:16px; background:#08a0f7; color:#00131c; border:none; border-radius:8px; font-weight:700; cursor:pointer; font-size:16px;"
            >
              Starten
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Thank You Modal - Fullscreen -->
  <div id="thankYouModal" style="display:none; position:fixed; inset:0; background:linear-gradient(135deg, #0f1a2a 0%, #1a2535 100%); align-items:center; justify-content:center; z-index:9999; flex-direction:column;">
    <div style="max-width:600px; width:100%; padding:40px; text-align:center;">
      <h1 style="margin:0 0 24px 0; font-size:48px; color:#08a0f7;">Vielen Dank!</h1>
      <p style="color:#e8f3ff; line-height:1.8; margin:0 0 32px 0; font-size:18px;">
        Sie haben alle Aufgaben erfolgreich abgeschlossen.<br><br>
        Ihre Daten wurden erfasst und sind bereit zum Export.
      </p>
      <button 
        id="finishBtn"
        style="padding:20px 48px; background:#08a0f7; color:#00131c; border:none; border-radius:8px; font-weight:700; cursor:pointer; font-size:18px;"
      >
        Fertig
      </button>
    </div>
  </div>

  <!-- Calibration dialog -->
  <dialog id="calDialog">
    <form method="dialog" class="cal-form">
      <h2>Kalibrieren</h2>
      <p>Zieh den Schieber, bis der Balken exakt <strong>50 mm</strong> lang ist.</p>
      <div class="ruler-row">
        <div id="ruler" aria-label="Kalibrierlineal"></div>
        <input id="rulerRange" type="range" min="50" max="800" value="260">
      </div>
      <p><small>Aktuell: <span id="currPx">260</span> px ‚âô 50 mm ‚Üí <span id="currPxPerMm">5.20</span> px/mm</small></p>
      <menu>
        <button value="cancel">Abbrechen</button>
        <button id="saveCal" value="ok">Speichern</button>
      </menu>
    </form>
  </dialog>

  <script src="script.js"></script>
</body>
</html>
